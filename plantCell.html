<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hybrid Plant Cell AR +IBM Marker & Markerless</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="teal">
<meta name="author" content="Salmanda">

<!-- A-Frame -->
<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>

<!-- Stable AR.js -->
<script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

<style>
body { margin:0; overflow:hidden; background:#000; }
#help {
  position: fixed;
  bottom: 10px;
  left: 10px;
  right: 10px;
  background: rgba(255,255,255,0.9);
  padding: 10px;
  font-family: sans-serif;
  font-size: 14px;
  text-align: center;
  z-index: 999;
}
</style>
</head>

<body>

<!-- ================= USER HELP ================= -->
<div id="help">
ðŸ“· Allow CAMERA & LOCATION.<br>
ðŸ“„ Point at HIRO marker OR move phone outdoors for markerless AR.
</div>

<!-- ================= AR SCENE ================= -->
<a-scene
  embedded
  vr-mode-ui="enabled:false"
  arjs="sourceType: webcam; debugUIEnabled:false;">

  <!-- ========== INFO PANEL ========== -->
  <a-plane
    id="infoPanel"
    position="0 2 -2"
    width="2.6"
    height="1.1"
    color="#ffffff"
    visible="false">
    <a-text
      id="infoText"
      color="black"
      align="center"
      width="2.4"
      position="0 0 0.01">
    </a-text>
  </a-plane>

  <!-- ========== MARKER MODE ========= -->
  <a-marker preset="hiro">

    <a-entity position="0 0.6 0" scale="1 1 1">
      <a-box width="1.6" height="1.6" depth="1.6"
        material="color:#6fbf73; opacity:0.25; transparent:true"></a-box>

      <a-box width="1.4" height="1.4" depth="1.4"
        material="color:#00aa66; opacity:0.15; transparent:true"></a-box>

      <a-sphere radius="0.25" color="purple"
        onclick="showInfo('Nucleus','Controls cell activities and contains DNA.')"></a-sphere>

      <a-sphere position="-0.4 0 0" radius="0.35"
        material="color:#66ccff; opacity:0.6; transparent:true"
        onclick="showInfo('Vacuole','Stores water, food and waste.')"></a-sphere>

      <a-sphere position="0.4 0.2 0" radius="0.15" color="green"
        onclick="showInfo('Chloroplast','Site of photosynthesis.')"></a-sphere>

      <a-sphere position="0.3 -0.2 0.2" radius="0.12" color="orange"
        onclick="showInfo('Mitochondrion','Releases energy.')"></a-sphere>

      <a-plane position="0 -0.6 0" width="2.2" height="1.2" color="#fff3cd">
        <a-text
          value="JCE QUESTIONS:+AFw-n1. Name TWO parts found only in plant cells.+AFw-n2. State the function of the nucleus.+AFw-n3. Which organelle does photosynthesis?+AFw-n4. Why is the vacuole large?"
          align="center" color="black" width="2" position="0 0 0.01">
        </a-text>
      </a-plane>
    </a-entity>

  </a-marker>

  <!-- ========== MARKERLESS (GPS) MODE ========= -->
  <a-entity
    gps-entity-place="latitude: -13.9626; longitude: 33.7741"
    scale="5 5 5">

    <a-sphere radius="0.25" color="purple"
      onclick="showInfo('Nucleus','Controls cell activities and contains DNA.')">
    </a-sphere>

    <a-sphere position="0.4 0.2 0" radius="0.15" color="green"
      onclick="showInfo('Chloroplast','Makes food by photosynthesis.')">
    </a-sphere>

  </a-entity>

  <!-- CAMERA -->
  <a-camera gps-camera rotation-reader>
    <a-cursor rayOrigin="mouse"></a-cursor>
  </a-camera>

</a-scene>

<!-- ========== INTERACTION SCRIPT ========== -->
<script>
function showInfo(title, desc) {
  const panel = document.querySelector('#infoPanel');
  const text = document.querySelector('#infoText');

  text.setAttribute('value', title.toUpperCase() +- "+AFwAXA-n+AFwAXA-n" +- desc);
  panel.setAttribute('visible', true);

  setTimeout(() => {
    panel.setAttribute('visible', false);
  }, 6000);
}
</script>

</body>
</html>